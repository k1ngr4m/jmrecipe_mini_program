<!--pages/settings/profile-edit/profile-edit.wxml-->
<view class="container">
  
  <scroll-view class="main-content" scroll-y>
    <form bindsubmit="saveProfile">
      <!-- å¤´åƒåŒºåŸŸ -->
      <view class="avatar-section">
        <view class="avatar-container" bindtap="chooseAvatar">
          <image class="avatar" src="{{tempAvatarUrl || userInfo.avatarUrl}}" mode="aspectFill"></image>
          <view class="camera-icon">ğŸ“·</view>
        </view>
        <text class="change-avatar-text">ç‚¹å‡»æ›´æ¢å¤´åƒ</text>
      </view>
      
      <!-- è¡¨å•åŒºåŸŸ -->
      <view class="form-section">
        <!-- æ˜µç§° -->
        <view class="form-item">
          <text class="label">æ˜µç§°</text>
          <input class="input" name="nickname" value="{{tempNickname !== undefined ? tempNickname : userInfo.nickName}}" bindinput="onNicknameInput" placeholder="è¯·è¾“å…¥æ˜µç§°" />
        </view>
        
        <!-- æ€§åˆ« -->
        <view class="form-item">
          <text class="label">æ€§åˆ«</text>
          <picker mode="selector" range="{{genderOptions}}" value="{{genderIndex}}" bindchange="onGenderChange">
            <view class="picker">
              {{genderOptions[genderIndex]}}
            </view>
          </picker>
        </view>
        
        <!-- åŸå¸‚ -->
        <view class="form-item">
          <text class="label">åŸå¸‚</text>
          <input class="input" name="city" value="{{tempCity || userInfo.city}}" bindinput="onCityInput" placeholder="è¯·è¾“å…¥åŸå¸‚" />
        </view>
        
        <!-- çœä»½ -->
        <view class="form-item">
          <text class="label">çœä»½</text>
          <input class="input" name="province" value="{{tempProvince || userInfo.province}}" bindinput="onProvinceInput" placeholder="è¯·è¾“å…¥çœä»½" />
        </view>
        
        <!-- å›½å®¶ -->
        <view class="form-item">
          <text class="label">å›½å®¶</text>
          <input class="input" name="country" value="{{tempCountry || userInfo.country}}" bindinput="onCountryInput" placeholder="è¯·è¾“å…¥å›½å®¶" />
        </view>
        
        <!-- ç”Ÿæ—¥ -->
        <view class="form-item">
          <text class="label">ç”Ÿæ—¥</text>
          <picker mode="date" value="{{birthdayDisplay}}" start="1900-01-01" end="2030-12-31" bindchange="onBirthdayChange">
            <view class="picker">
              {{birthdayDisplay || "è¯·é€‰æ‹©ç”Ÿæ—¥"}}
            </view>
          </picker>
        </view>
        
        <!-- æ‰‹æœºå· -->
        <view class="form-item">
          <text class="label">æ‰‹æœºå·</text>
          <input class="input" name="phone" value="{{tempPhone || userInfo.phone}}" bindinput="onPhoneInput" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" />
        </view>
      </view>
      
      <!-- ä¿å­˜æŒ‰é’® -->
      <view class="button-section">
        <button class="save-btn" form-type="submit">ä¿å­˜</button>
      </view>
    </form>
  </scroll-view>
</view>