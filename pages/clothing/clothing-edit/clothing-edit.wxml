<view class="container">
  <scroll-view class="modal-form-wrapper" scroll-y>
    <view class="modal-form">
      <form bindsubmit="updateClothing">
        <!-- 图片上传 -->
        <view class="form-group">
          <view class="form-item">
            <text class="label">图片</text>
            <view class="image-upload" bindtap="chooseAndUploadImage">
              <image wx:if="{{imageUrl}}" src="{{imageUrl}}" class="preview-image" />
              <view wx:else class="upload-placeholder">
                <text class="upload-text">点击上传图片</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- 基本信息组 -->
        <view class="form-group">
          <view class="form-item">
            <text class="label">名称 *</text>
            <input class="input" name="name" value="{{name}}" placeholder="请输入衣物名称" />
          </view>
          
          <!-- 分类选择 -->
          <view class="form-item">
            <text class="label">一级分类 *</text>
            <picker mode="selector" range="{{primaryCategories}}" range-key="name" value="{{primaryCategoryIndex}}" bindchange="onPrimaryCategoryChange">
              <view class="picker">
                {{primaryCategoryIndex >= 0 ? primaryCategories[primaryCategoryIndex].name : '请选择一级分类'}}
              </view>
            </picker>
          </view>
          
          <view class="form-item">
            <text class="label">二级分类</text>
            <picker mode="selector" range="{{secondaryCategoryOptions}}" range-key="name" value="{{secondaryCategoryIndex}}" bindchange="onSecondaryCategoryChange">
              <view class="picker">
                {{secondaryCategoryIndex >= 0 ? secondaryCategoryOptions[secondaryCategoryIndex].name : '请选择二级分类'}}
              </view>
            </picker>
          </view>
        </view>
        
        <!-- 属性信息组 -->
        <view class="form-group">
          <view class="form-item">
            <text class="label">颜色</text>
            <picker mode="selector" range="{{colorOptions}}" value="{{colorIndex}}" bindchange="onColorChange">
              <view class="picker">
                {{colorOptions[colorIndex]}}
              </view>
            </picker>
          </view>
          
          <view class="form-item">
            <text class="label">适用季节</text>
            <picker mode="selector" range="{{seasonOptions}}" value="{{seasonIndex}}" bindchange="onSeasonChange">
              <view class="picker">
                {{seasonOptions[seasonIndex]}}
              </view>
            </picker>
          </view>
        </view>
        
        <!-- 详细信息组 -->
        <view class="form-group">
          <view class="form-item">
            <text class="label">品牌</text>
            <picker mode="selector" range="{{brandList}}" range-key="name" value="{{brandIndex}}" bindchange="onBrandChange">
              <view class="picker">
                {{brandIndex >= 0 ? brandList[brandIndex].name : '请选择品牌'}}
              </view>
            </picker>
          </view>
          
          <view class="form-item">
            <text class="label">价格</text>
            <input class="input" name="price" value="{{price}}" type="digit" placeholder="请输入价格" />
          </view>
          
          <view class="form-item">
            <text class="label">购买日期</text>
            <picker mode="date" value="{{purchaseDate}}" bindchange="bindDateChange">
              <view class="date-picker">
                {{purchaseDate ? purchaseDate : '请选择日期'}}
              </view>
            </picker>
          </view>
        </view>
        
        <!-- 操作按钮 -->
        <view class="form-actions">
          <button class="cancel-btn" bindtap="cancelEdit">取消</button>
          <button class="save-btn" form-type="submit">保存</button>
        </view>
      </form>
    </view>
  </scroll-view>
</view>