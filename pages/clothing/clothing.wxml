<view class="container">
  <view class="header">
    <text class="title">{{title}}</text>
  </view>
  
  <!-- åŠŸèƒ½æŒ‰é’®åŒº -->
  <view class="function-buttons">
    <view class="function-btn">
      <text class="icon">â†”</text>
    </view>
    <view class="function-btn">
      <text class="icon">âš™</text>
    </view>
    <view class="function-btn">
      <text class="icon">â‹®</text>
    </view>
    <view class="function-btn" bindtap="showAddModal">
      <text class="icon">+</text>
    </view>
    <view class="function-btn random-btn" bindtap="goToRandomMatch">
      <text class="icon">ğŸ‘—</text>
      <text class="btn-text">éšæ„æ­</text>
    </view>
  </view>
  
  <!-- ä¸»å†…å®¹åŒº -->
  <view class="main-content">
    <!-- åˆ†ç±»åˆ—è¡¨åŒºï¼ˆå·¦ä¾§å¯¼èˆªï¼‰ -->
    <scroll-view class="category-list" scroll-y="true">
      <view 
        class="category-item {{currentCategory === 'all' ? 'active' : ''}}" 
        data-category="all" 
        bindtap="switchCategory">
        <text class="category-text">å…¨éƒ¨</text>
      </view>
      <view 
        class="category-item {{currentCategory === 'å¤–å¥—' ? 'active' : ''}}" 
        data-category="å¤–å¥—" 
        bindtap="switchCategory">
        <text class="category-text">å¤–å¥—</text>
      </view>
      <view 
        class="category-item {{currentCategory === 'å†…æ­' ? 'active' : ''}}" 
        data-category="å†…æ­" 
        bindtap="switchCategory">
        <text class="category-text">å†…æ­</text>
      </view>
      <view 
        class="category-item {{currentCategory === 'ä¸‹è£…' ? 'active' : ''}}" 
        data-category="ä¸‹è£…" 
        bindtap="switchCategory">
        <text class="category-text">ä¸‹è£…</text>
      </view>
      <view 
        class="category-item {{currentCategory === 'é‹å­' ? 'active' : ''}}" 
        data-category="é‹å­" 
        bindtap="switchCategory">
        <text class="category-text">é‹å­</text>
      </view>
      <view 
        class="category-item {{currentCategory === 'åŒ…åŒ…' ? 'active' : ''}}" 
        data-category="åŒ…åŒ…" 
        bindtap="switchCategory">
        <text class="category-text">åŒ…åŒ…</text>
      </view>
      <view 
        class="category-item {{currentCategory === 'é…é¥°' ? 'active' : ''}}" 
        data-category="é…é¥°" 
        bindtap="switchCategory">
        <text class="category-text">é…é¥°</text>
      </view>
      <view 
        class="category-item {{currentCategory === 'å½©å¦†' ? 'active' : ''}}" 
        data-category="å½©å¦†" 
        bindtap="switchCategory">
        <text class="category-text">å½©å¦†</text>
      </view>
    </scroll-view>
    
    <!-- å†…å®¹å±•ç¤ºåŒºï¼ˆå³ä¾§åˆ—è¡¨ï¼‰ -->
    <view class="content-area">
      <!-- é¡¶éƒ¨åŠŸèƒ½æŒ‰é’® -->
      <view class="content-header">
        <text class="category-title">{{currentCategory === 'all' ? 'å…¨éƒ¨' : currentCategory}}</text>
        <view class="header-buttons">
          <view class="header-btn">
            <text class="icon">â‹¯</text>
          </view>
          <view class="header-btn">
            <text class="icon">ğŸ“·</text>
          </view>
        </view>
      </view>
      
      <!-- åˆ†ç±»å†…å®¹å¡ç‰‡ -->
      <scroll-view class="content-cards" scroll-y="true">
        <view class="card-item" wx:for="{{categoryItems}}" wx:key="id">
          <image class="card-image" src="{{item.image_url || '/images/default-clothing.png'}}" mode="aspectFill"></image>
          <view class="card-overlay">
            <text class="card-title">{{item.name}}</text>
            <text class="card-subtitle">{{item.category}}</text>
          </view>
        </view>
      </scroll-view>
    </view>
  </view>
  
  <!-- æ–°å¢æœè£…è¡¨å•å¼¹çª— -->
  <view class="modal" wx:if="{{showModal}}">
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">æ–°å¢æœè£…</text>
        <button class="close-btn" bindtap="hideAddModal">âœ•</button>
      </view>
      <form class="add-form" bindsubmit="addClothing">
        <view class="form-item">
          <text class="label">åç§° *</text>
          <input class="input" name="name" value="{{name}}" bindinput="onNameInput" placeholder="è¯·è¾“å…¥è¡£ç‰©åç§°" required />
        </view>
        <view class="form-item">
          <text class="label">åˆ†ç±» *</text>
          <input class="input" name="category" value="{{category}}" bindinput="onCategoryInput" placeholder="è¯·è¾“å…¥è¡£ç‰©åˆ†ç±»" required />
        </view>
        <view class="form-item">
          <text class="label">é¢œè‰²</text>
          <input class="input" name="color" value="{{color}}" bindinput="onColorInput" placeholder="è¯·è¾“å…¥é¢œè‰²" />
        </view>
        <view class="form-item">
          <text class="label">å“ç‰Œ</text>
          <input class="input" name="brand" value="{{brand}}" bindinput="onBrandInput" placeholder="è¯·è¾“å…¥å“ç‰Œ" />
        </view>
        <view class="form-item">
          <text class="label">è´­ä¹°æ—¥æœŸ</text>
          <picker mode="date" value="{{purchaseDate}}" bindchange="bindDateChange">
            <view class="date-picker">
              <text wx:if="{{purchaseDate}}">{{purchaseDate}}</text>
              <text wx:else>è¯·é€‰æ‹©è´­ä¹°æ—¥æœŸ</text>
            </view>
          </picker>
        </view>
        <view class="form-item">
          <text class="label">ä»·æ ¼</text>
          <input class="input" name="price" value="{{price}}" bindinput="onPriceInput" type="digit" placeholder="è¯·è¾“å…¥ä»·æ ¼" />
        </view>
        <view class="form-item">
          <text class="label">å›¾ç‰‡</text>
          <view class="upload-area" bindtap="chooseAndUploadImage">
            <text wx:if="{{!imageUrl}}">ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡</text>
            <image wx:if="{{imageUrl}}" src="{{imageUrl}}" class="preview-image" />
          </view>
        </view>
        <button class="submit-btn" bindtap="handleSubmit">ç¡®å®š</button>
      </form>
    </view>
  </view>
</view>