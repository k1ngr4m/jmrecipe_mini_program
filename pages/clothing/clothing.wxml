<view class="container">
  <view class="header">
    <text class="title">{{title}}</text>
  </view>
  
  <!-- 功能按钮区 -->
  <view class="function-buttons">
    <view class="function-btn">
      <text class="icon">↔</text>
    </view>
    <view class="function-btn">
      <text class="icon">⚙</text>
    </view>
    <view class="function-btn">
      <text class="icon">⋮</text>
    </view>
    <view class="function-btn" bindtap="showAddModal">
      <text class="icon">+</text>
    </view>
    <view class="function-btn random-btn" bindtap="goToRandomMatch">
      <text class="icon">👗</text>
      <text class="btn-text">随意搭</text>
    </view>
  </view>
  
  <!-- 主内容区 -->
  <view class="main-content">
    <!-- 分类列表区（左侧导航） -->
    <scroll-view class="category-list" scroll-y="true">
      <view 
        class="category-item {{currentCategory === 'all' ? 'active' : ''}}" 
        data-category="all" 
        bindtap="switchCategory">
        <text class="category-text">全部</text>
      </view>
      <view 
        class="category-item {{currentCategory === '外套' ? 'active' : ''}}" 
        data-category="外套" 
        bindtap="switchCategory">
        <text class="category-text">外套</text>
      </view>
      <view 
        class="category-item {{currentCategory === '内搭' ? 'active' : ''}}" 
        data-category="内搭" 
        bindtap="switchCategory">
        <text class="category-text">内搭</text>
      </view>
      <view 
        class="category-item {{currentCategory === '下装' ? 'active' : ''}}" 
        data-category="下装" 
        bindtap="switchCategory">
        <text class="category-text">下装</text>
      </view>
      <view 
        class="category-item {{currentCategory === '鞋子' ? 'active' : ''}}" 
        data-category="鞋子" 
        bindtap="switchCategory">
        <text class="category-text">鞋子</text>
      </view>
      <view 
        class="category-item {{currentCategory === '包包' ? 'active' : ''}}" 
        data-category="包包" 
        bindtap="switchCategory">
        <text class="category-text">包包</text>
      </view>
      <view 
        class="category-item {{currentCategory === '配饰' ? 'active' : ''}}" 
        data-category="配饰" 
        bindtap="switchCategory">
        <text class="category-text">配饰</text>
      </view>
      <view 
        class="category-item {{currentCategory === '彩妆' ? 'active' : ''}}" 
        data-category="彩妆" 
        bindtap="switchCategory">
        <text class="category-text">彩妆</text>
      </view>
    </scroll-view>
    
    <!-- 内容展示区（右侧列表） -->
    <view class="content-area">
      <!-- 顶部功能按钮 -->
      <view class="content-header">
        <text class="category-title">{{currentCategory === 'all' ? '全部' : currentCategory}}</text>
        <view class="header-buttons">
          <view class="header-btn">
            <text class="icon">⋯</text>
          </view>
          <view class="header-btn">
            <text class="icon">📷</text>
          </view>
        </view>
      </view>
      
      <!-- 分类内容卡片 -->
      <scroll-view class="content-cards" scroll-y="true">
        <view class="card-item" wx:for="{{categoryItems}}" wx:key="id">
          <image class="card-image" src="{{item.image_url || '/images/default-clothing.png'}}" mode="aspectFill"></image>
          <view class="card-overlay">
            <text class="card-title">{{item.name}}</text>
            <text class="card-subtitle">{{item.category}}</text>
          </view>
        </view>
      </scroll-view>
    </view>
  </view>
  
  <!-- 新增服装表单弹窗 -->
  <view class="modal" wx:if="{{showModal}}">
    <view class="modal-content">
      <view class="modal-header">
        <text class="modal-title">新增服装</text>
        <button class="close-btn" bindtap="hideAddModal">✕</button>
      </view>
      <form class="add-form" bindsubmit="addClothing">
        <view class="form-item">
          <text class="label">名称 *</text>
          <input class="input" name="name" value="{{name}}" bindinput="onNameInput" placeholder="请输入衣物名称" required />
        </view>
        <view class="form-item">
          <text class="label">分类 *</text>
          <input class="input" name="category" value="{{category}}" bindinput="onCategoryInput" placeholder="请输入衣物分类" required />
        </view>
        <view class="form-item">
          <text class="label">颜色</text>
          <input class="input" name="color" value="{{color}}" bindinput="onColorInput" placeholder="请输入颜色" />
        </view>
        <view class="form-item">
          <text class="label">品牌</text>
          <input class="input" name="brand" value="{{brand}}" bindinput="onBrandInput" placeholder="请输入品牌" />
        </view>
        <view class="form-item">
          <text class="label">购买日期</text>
          <picker mode="date" value="{{purchaseDate}}" bindchange="bindDateChange">
            <view class="date-picker">
              <text wx:if="{{purchaseDate}}">{{purchaseDate}}</text>
              <text wx:else>请选择购买日期</text>
            </view>
          </picker>
        </view>
        <view class="form-item">
          <text class="label">价格</text>
          <input class="input" name="price" value="{{price}}" bindinput="onPriceInput" type="digit" placeholder="请输入价格" />
        </view>
        <view class="form-item">
          <text class="label">图片</text>
          <view class="upload-area" bindtap="chooseAndUploadImage">
            <text wx:if="{{!imageUrl}}">点击上传图片</text>
            <image wx:if="{{imageUrl}}" src="{{imageUrl}}" class="preview-image" />
          </view>
        </view>
        <button class="submit-btn" bindtap="handleSubmit">确定</button>
      </form>
    </view>
  </view>
</view>